<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Магазин мороженого(Корзина)</title>
		<link rel="stylesheet" type="text/css" href="shop-cart.css" />
		<script src="https://code.jquery.com/jquery-2.1.0.js"></script>
		
	</head>
	
	<body>
		<div class="shopping-cart">	
			<!--Джелато-->
			<div class="shopping-cart_in">
				<!-- Товар #1 -->
				<div class="item">
							
					<div class="image">
						<img class = "img" src="gel_choco.png" alt="" />
					</div>	
			
					<div class="description">
						<span>Мороженое</span>
						<span>Джелато</span>
						<span>Молочный Шоколад</span>
					</div>
				
				
					<div class="quantity">
						<button class="plus-btn" type="button" id="gelato">
							+
						</button>
						<input type="text" name="name" value="0">
						<button class="minus-btn" type="button" id="gelato">
							-
						</button>
					</div>
	
					
					<div class="total-price">525 ₽</div>
				</div>
	
				<!-- Товар #2 -->
				<div class="item">
						
					<div class="image">
						<img class = "img" src="gel_cookie.png" alt=""/>
					</div>
 
					<div class="description">
						<span>Мороженое</span>
						<span>Джелато</span>
						<span>Печенье Карамель</span>
					</div>
	
					<div class="quantity">
						<button class="plus-btn" type="button" id="gelato">
							+
						</button>
						<input type="text" name="name" value="0">
						<button class="minus-btn" type="button" id="gelato">
							-
						</button>
					</div>
	
					<div class="total-price">525 ₽</div>
				</div>
	
				<!-- Товар #3 -->
				<div class="item">
						
					<div class="image">
						<img class = "img" src="gel_milk.png" alt="" />
					</div>
		
					<div class="description">
						<span>Мороженое</span>
						<span>Джелато</span>
						<span>Пломбир Москва</span>
					</div>
	
					<div class="quantity">
						<button class="plus-btn" type="button" id="gelato">
							+
						</button>
						<input type="text" name="name" value="0">
						<button class="minus-btn" type="button" id="gelato">
							-
						</button>
					</div>
		
					<div class="total-price">525 ₽</div>
				</div>
			
				<!-- Товар #4 -->
				<div class="item">
	
					<div class="image">
						<img class = "img" src="gel_strawberry.png" alt=""/>
					</div>
	
					<div class="description">
						<span>Мороженое</span>
						<span>Джелато</span>
						<span>Клубника базилик</span>
					</div>
	
					<div class="quantity">
						<button class="plus-btn" type="button" id="gelato">
							+
						</button>
						<input type="text" name="name" value="0">
						<button class="minus-btn" type="button" id="gelato">
							-
						</button>
					</div>
	
					<div class="total-price">525 ₽</div>
				</div>
	
				<!-- Товар #5 -->
				<div class="item">
	
					<div class="image">
						<img class = "img" src="gel_inj.png" alt="" />
					</div>
		
					<div class="description">
						<span>Мороженое</span>
						<span>Джелато</span>
						<span>Инжир-маскарпоне</span>
					</div>
	
					<div class="quantity">
						<button class="plus-btn" type="button" id="gelato">
							+
						</button>
						<input type="text" name="name" value="0">
						<button class="minus-btn" type="button" id="gelato">
							-
						</button>
					</div>
	
					<div class="total-price">525 ₽</div>
				</div>
			</div>
			<!--Дондурма-->
			<div class="shopping-cart_in">
				<!-- Товар #6 -->
				<div class="item">
		
					<div class="image">
						<img class = "img" src="don_strawberry.png" alt="" />
					</div>
		
					<div class="description">
						<span>Мороженое</span>
						<span>Дондурма</span>
						<span>Клубника</span>
					</div>
					
					
					<div class="quantity">
						<button class="plus-btn" type="button"  id="dondurma">
							+
						</button>
						<input type="text" name="name" value="0">
						<button class="minus-btn" type="button"  id="dondurma">
							-
						</button>
					</div>
	
					
					<div class="total-price">350 ₽</div>
				</div>
 
				<!-- Товар #7 -->
				<div class="item">
					
					<div class="image">
						<img class = "img" src="don_lemon.png" alt=""/>
					</div>
	
					<div class="description">
						<span>Мороженое</span>
						<span>Дондурма</span>
						<span>Лимон</span>
					</div>
	
					<div class="quantity">
						<button class="plus-btn" type="button" id="dondurma">
							+
						</button>
						<input type="text" name="name" value="0">
						<button class="minus-btn" type="button" id="dondurma">
							-
						</button>
					</div>
	
					<div class="total-price">350 ₽</div>
				</div>
	
				<!-- Товар #8 -->
				<div class="item">
	
					<div class="image">
						<img class = "img" src="don_milk.png" alt="" />
					</div>
		
					<div class="description">
						<span>Мороженое</span>
						<span>Дондурма</span>
						<span>Молоко</span>
					</div>
	
					<div class="quantity">
						<button class="plus-btn" type="button" id="dondurma">
							+
						</button>
						<input type="text" name="name" value="0">
						<button class="minus-btn" type="button" id="dondurma">
							-
						</button>
					</div>
		
					<div class="total-price">350 ₽</div>
				</div>
			
				<!-- Товар #9 -->
				<div class="item">
				
					<div class="image">
						<img class = "img" src="don_nuts.png" alt=""/>
					</div>
 
					<div class="description">
						<span>Мороженое</span>
						<span>Дондурма</span>
						<span>Фисташки</span>
					</div>
	
					<div class="quantity">
						<button class="plus-btn" type="button" id="dondurma">
							+
						</button>
						<input type="text" name="name" value="0">
						<button class="minus-btn" type="button" id="dondurma">
							-
						</button>
					</div>
	
					<div class="total-price">350 ₽</div>
				</div>
	
				<!-- Товар #10 -->
				<div class="item">
				
					<div class="image">
						<img class = "img" src="don_choco.png" alt="" />
					</div>
		
					<div class="description">
						<span>Мороженое</span>
						<span>Дондурма</span>
						<span>Шоколад</span>
					</div>
	
					<div class="quantity">
						<button class="plus-btn" type="button" id="dondurma">
							+
						</button>
						<input type="text" name="name" value="0">
						<button class="minus-btn" type="button" id="dondurma">
							-
						</button>
					</div>
		
					<div class="total-price">350 ₽</div>
				</div>
			</div>
			<!--Моти-->
			<div class="shopping-cart_in">
				<!-- Товар #11 -->
				<div class="item">
		
					<div class="image">
						<img class = "img" src="moti_mango.png" alt="" />
					</div>
		
					<div class="description">
						<span>Мороженое</span>
						<span>Моти</span>
						<span>Манго</span>
					</div>
					
					
					<div class="quantity">
						<button class="plus-btn" type="button" id="moti">
							+
						</button>
						<input type="text" name="name" value="0">
						<button class="minus-btn" type="button" id="moti">
							-
						</button>
					</div>
	
					
					<div class="total-price">150 ₽</div>
				</div>
	
				<!-- Товар #12 -->
				<div class="item">
	
					<div class="image">
						<img class = "img" src="moti_tea.png" alt=""/>
					</div>
	
					<div class="description">
						<span>Мороженое</span>
						<span>Моти</span>
						<span>Зелёный чай</span>
					</div>
	
					<div class="quantity">
						<button class="plus-btn" type="button" id="moti">
							+
						</button>
						<input type="text" name="name" value="0">
						<button class="minus-btn" type="button" id="moti">
							-
						</button>
					</div>
	
					<div class="total-price">150 ₽</div>
				</div>
	
				<!-- Товар #13 -->
				<div class="item">
	
					<div class="image">
						<img class = "img" src="moti_strawberry.png" alt="" />
					</div>
		
					<div class="description">
						<span>Мороженое</span>
						<span>Моти</span>
						<span>Клубника</span>
					</div>
	
					<div class="quantity">
						<button class="plus-btn" type="button" id="moti">
							+
						</button>
						<input type="text" name="name" value="0">
						<button class="minus-btn" type="button" id="moti">
							-
						</button>
					</div>
		
					<div class="total-price">150 ₽</div>
				</div>
				
				<!-- Товар #14 -->
				<div class="item">
	
					<div class="image">
						<img class = "img" src="moti_van.png" alt=""/>
					</div>
	
					<div class="description">
						<span>Мороженое</span>
						<span>Моти</span>
						<span>Ваниль</span>
					</div>
	
					<div class="quantity">
						<button class="plus-btn" type="button" id="moti">
							+
						</button>
						<input type="text" name="name" value="0">
						<button class="minus-btn" type="button" id="moti">
							-
						</button>
					</div>
	
					<div class="total-price">150 ₽</div>
				</div>
 
				<!-- Товар #15 -->
				<div class="item">
	
					<div class="image">
						<img class = "img" src="moti_cherry.png" alt="" />
					</div>
		
					<div class="description">
						<span>Мороженое</span>
						<span>Моти</span>
						<span>Вишнёвый трюфель</span>
					</div>
	
					<div class="quantity">
						<button class="plus-btn" type="button" id="moti">
							+
						</button>
						<input type="text" name="name" value="0">
						<button class="minus-btn" type="button" id="moti">
							-
						</button>
					</div>
		
					<div class="total-price">150 ₽</div>
				</div>
			</div>
		</div>
		<p >
			<button class="button-primary button">
				Показать общую цену
			</button>
		</p>
		<!--Добавить кнопку: "Отобразить результат"-->
		<script type="text/javascript">
			var checker;
			$('button').click(function(){
				checker = this.id;
			});
			
	var Sum = 0;
	var val_gel = 0;
	var val_don = 0;
	var val_moti = 0;
	var have = 1;
	$('.plus-btn').on('click', function(e) {
		e.preventDefault();
		var $this = $(this);
		var $input = $this.closest('div').find('input');
		var value = parseInt($input.val());
		if(have == 0){
			if (value < 100) {
				value = value + 1;
			} else {
				value = 100;
			}
		
			if(value < 100){
				if (checker == "gelato") {
					val_gel = val_gel + 1;
				} else if (checker == "dondurma") {
					val_don = val_don + 1;
				} else if (checker == "moti") {
					val_moti = val_moti + 1;
				}
			}
		}
		$input.val(value);
		alert("Товара нет в наличии, приносим извинения за неудобство");
		if(val_gel >= 1 && val_don >= 1 && val_moti >= 1){
			Sum = (val_gel*525) + (val_don*350) + (val_moti*150);
		} else 	if(val_gel >= 1 && val_don >= 1 && val_moti < 1){
			Sum = (val_gel*525) + (val_don*350);
		} else 	if(val_gel >= 1 && val_don < 1 && val_moti >= 1){
			Sum = (val_gel*525) + (val_moti * 150);
		} else 	if(val_gel >= 1 && val_don < 1 && val_moti < 1){
			Sum = (val_gel*525);
		} else 	if(val_moti >= 1 && val_gel < 1 && val_don >= 1){
			Sum = (val_moti*150) + (val_don*350);
		} else 	if(val_moti >= 1 && val_gel < 1 && val_don < 1){
			Sum = (val_moti*150);
		} else 	if(val_don >= 1 && val_moti < 1 && val_gel < 1){
			Sum = (val_don*350);
		} else 	if(val_don < 1 && val_moti < 1 && val_gel < 1){
			Sum = 0;
		} 
	});
			
	$('.minus-btn').on('click', function(e) { 
		e.preventDefault();
		var $this = $(this);
		var $input = $this.closest('div').find('input');
		var value = parseInt($input.val());	
			
		if (value > 0) {
			value = value - 1;
		} else {
			value = 0;
		}
		if(value >= 0){
			if (checker == "gelato") {
				val_gel = val_gel - 1;
			} else if (checker == "dondurma") {
				val_don = val_don - 1;
			} else if (checker == "moti") {
				val_moti = val_moti - 1;
			}
		}
		$input.val(value);
		if(val_gel >= 1 && val_don >= 1 && val_moti >= 1){
			Sum = (val_gel*525) + (val_don*350) + (val_moti*150);
		} else 	if(val_gel >= 1 && val_don >= 1 && val_moti < 1){
			Sum = (val_gel*525) + (val_don*350);
		} else 	if(val_gel >= 1 && val_don < 1 && val_moti >= 1){
			Sum = (val_gel*525) + (val_moti * 150);
		} else 	if(val_gel >= 1 && val_don < 1 && val_moti < 1){
			Sum = (val_gel*525);
		} else 	if(val_moti >= 1 && val_gel < 1 && val_don >= 1){
			Sum = (val_moti*150) + (val_don*350);
		} else 	if(val_moti >= 1 && val_gel < 1 && val_don < 1){
			Sum = (val_moti*150);
		} else 	if(val_don >= 1 && val_moti < 1 && val_gel < 1){
			Sum = (val_don*350);
		} else 	if(val_don < 1 && val_moti < 1 && val_gel < 1){
			Sum = 0;
		} 							
	});	
			
	$('.button-primary').on('click', function(e){
		e.preventDefault();
		var $this = $(this);
		if(Sum == 0){
			var ok = "Сумма заказа равна 0! Ваша корзина пуста или товара нет в наличии.";
		} else{
			var ok = "Обшая сумма заказа равна " + Sum + ". Вы уверены в своем выборе?";
		}	
		confirm(ok);
	});
		</script>
	</body>
</html>